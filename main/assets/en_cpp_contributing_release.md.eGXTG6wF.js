import{_ as a,c as t,al as s,o as i}from"./chunks/framework.BVh3rIuO.js";const u=JSON.parse('{"title":"Make MAVSDK Release","description":"","frontmatter":{"github_branch":"main"},"headers":[],"relativePath":"en/cpp/contributing/release.md","filePath":"en/cpp/contributing/release.md"}'),l={name:"en/cpp/contributing/release.md"};function o(n,e,r,c,h,d){return i(),t("div",null,e[0]||(e[0]=[s(`<h1 id="make-mavsdk-release" tabindex="-1">Make MAVSDK Release <a class="header-anchor" href="#make-mavsdk-release" aria-label="Permalink to &quot;Make MAVSDK Release&quot;">​</a></h1><p>These are the instructions on how to get a release out the door.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>The idea is of course to automate this as much as possible!</p></div><h2 id="mavsdk-part" tabindex="-1">MAVSDK part <a class="header-anchor" href="#mavsdk-part" aria-label="Permalink to &quot;MAVSDK part&quot;">​</a></h2><ol><li>Check if all open pull requests are merged that need to go in.</li><li>Check that CI on <code>main</code> passed.</li><li>Create tag in <code>main</code>:<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git switch main</span></span>
<span class="line"><span>git pull</span></span>
<span class="line"><span>git tag vX.Y.Z</span></span>
<span class="line"><span>git push origin vX.Y.Z</span></span></code></pre></div></li><li><ul><li>Generate changelog using <code>tools/generate_changelog.py --token TOKEN_FROM_GITHUB --verbose --tag vX.Y.Z</code>.</li><li>If it finds old/wrong PRs, wait a bit or create the release from the tag in the <a href="https://github.com/mavlink/MAVSDK/releases" target="_blank" rel="noreferrer">GitHub UI</a>.</li><li>Once it finds the correct PRs it will check all of them for labels. Make sure all merged PRs have sensible labels (e.g. <code>enhancement</code>, <code>bug</code>, or <code>feature</code>).</li><li>Copy the changelog text to the <a href="https://github.com/mavlink/MAVSDK/releases" target="_blank" rel="noreferrer">release</a>.</li></ul></li><li>Check later if all artifacts have been uploaded correctly to the release.</li><li>Update the Arch AUR repository. This depends on the AUR maintainter&#39;s credentials (currently julianoes). <ul><li>Use the repo: <code>ssh://aur@aur.archlinux.org/mavsdk.git</code>.</li><li>Bump the version in <code>pkgver=X.Y.Z</code>.</li><li>Check PKGBUILD: <code>namcap PKGBUILD</code>.</li><li>Try to make pkg: <code>makepkg</code>.</li><li>Update <code>.SRCINFO</code>: <code>makepkg --printsrcinfo &gt; .SRCINFO</code>.</li><li>Commit and push.</li></ul></li><li>Update the brew repo. Steps for macOS: <ul><li><code>export HOMEBREW_GITHUB_API_TOKEN=&lt;GITHUB API TOKEN&gt;</code></li><li><code>brew bump-formula-pr mavsdk --tag=vX.Y.Z --revision=&lt;GIT HASH&gt;</code></li><li>This should then open the browser with the pull request already created.</li></ul></li></ol><h2 id="mavsdk-docs-part" tabindex="-1">MAVSDK-docs part <a class="header-anchor" href="#mavsdk-docs-part" aria-label="Permalink to &quot;MAVSDK-docs part&quot;">​</a></h2><ol><li><a href="./../guide/build_docs.html">Generate the docs</a> and update the reference docs.</li><li>Check or update the examples in the docs.</li><li>Create a branch off <code>main</code> for the release <ul><li>Create the branch<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git switch main</span></span>
<span class="line"><span>git pull</span></span>
<span class="line"><span>git switch -c vX.Y</span></span></code></pre></div></li><li>Modify <strong>book.json</strong> in the vX.Y branch to change the value of <code>github_branch</code> to match the new branch: <code>&quot;github_branch&quot;: &quot;vX.Y&quot;</code></li><li>Push the branch to the upstream repo<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git push origin vX.Y</span></span></code></pre></div></li></ul></li><li>Add the branch to the version checker in main branch <a href="https://github.com/mavlink/MAVSDK-docs/blob/main/book.json" target="_blank" rel="noreferrer">book.json</a> (see pattern below <code>versions</code>).</li></ol><h2 id="other" tabindex="-1">Other <a class="header-anchor" href="#other" aria-label="Permalink to &quot;Other&quot;">​</a></h2><ol><li>Post a note on Slack #mavsdk.</li></ol>`,9)]))}const g=a(l,[["render",o]]);export{u as __pageData,g as default};
